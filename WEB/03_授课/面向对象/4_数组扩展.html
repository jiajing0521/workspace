<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>4_数组扩展</title>
</head>
<body>
<script type="text/javascript">
    //返回数组中最大数
    Array.prototype.max = function () {
        var max = this[0];
        for (var i = 1; i < this.length; i++){
            if (max < this[i]){
                max = this[i];
            }
        }
        return max;
    }
    console.log([1,3,56,4].max());
    var max1 = function (arr) {
        var max = arr[0];
        for (var i = 1; i < arr.length; i++){
            if (max < arr[i]){
                max = arr[i];
            }
        }
        return max;
    }
    console.log("max1="+max1([1,3,56,4]));

    //ie9以下不兼容
    var arr = [1,2,3];
    //map函数是ES5（大致就是js，目前最新的是ES6）之后的API，
    //作用是对数组中的每一个元素进行相同的操作
    //参数：回调函数(数组元素，下标)
    //产生新的数组的元素
    console.log(arr.map(function (T,number) {
        return T+10;
    }));

    //自己实现map函数(fun是一个函数——调用d_map时传递的函数)
    Array.prototype.d_map = function (fun) {
        //创建空数组
        var result = [];
        for (var i = 0; i < this.length; i++){
            result.push(fun(this[i],i));
        }
        return result;
    };
    console.log(arr.d_map(function (item,i) {
        return "第"+ i +"个元素是" + item;
    }));

    //作用是对数组中每一个元素进行过滤
    //参数：回调函数(数组元素，下标)
    //产生新的数组的元素
    console.log(arr.filter(function (item,i) {
        return item > 1;
    }));

    Array.prototype.d_filter = function (fun) {
        var result = [];
        for (var i = 0; i < this.length; i++){
            //如果fun函数返回值是true时，就将当前的this[i]push到数组里
            if(fun(this[i])){
                result.push(this[i]);
            }
        }
        return result;
    };
    console.log(arr.d_filter(function (item) {
        return item > 1;
    }));
</script>
</body>
</html>