<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>2_图片懒加载</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			body{
				height: 3000px;
			}
			img{
				width: 500px;
				height: 200px;
				margin-top: 2000px;
			}
		</style>
	</head>
	<body>
		<img src="" data-src="img/0.jpg"/>
		<script type="text/javascript">
			var img1 = document.querySelector("img");
			document.onscroll = function(){
				//body纵向偏移量
				var bodyPianyi = document.body.scrollTop || document.documentElement.scrollTop;
				//body可见高度
				var bodyKeJian = document.documentElement.clientHeight;
				//img1的纵向位置
				var img1Pianyi = img1.offsetTop;
				console.log(img1Pianyi);
				console.log(bodyKeJian);
				console.log(bodyPianyi);
				if(img1Pianyi <= bodyPianyi + bodyKeJian - 200){
					var dataSrc = img1.getAttribute("data-src");
					img1.setAttribute("src",dataSrc);
				}
			}
		</script>
	</body>
</html>
