<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>放大镜_canvas版</title>
</head>
<body>

    <!--<canvas id="canvas" width="500" height="500">-->
        <!--低版本浏览器不支持-->
        <!---->
    <!--</canvas>-->
    <!--<script type="text/javascript">-->
        <!--var canvas = document.getElementById("canvas");-->
        <!--var ctx = canvas.getContext("2d");-->

        <!--var img1 = new Image();-->
        <!--img1.src = "img/23.jpg";-->

        <!--img1.onload = function () {-->
            <!--ctx.drawImage(this,0,0,500,500);-->
        <!--};-->

        <!--canvas.onmousemove = function (ev) {-->
            <!--var e = ev || window.event;-->
            <!--var nowMouseX = e.clientX;-->
            <!--var nowMouseY = e.clientY;-->

            <!--ctx.clearRect(0,0,canvas.width,canvas.height);-->
            <!--ctx.drawImage(img1,0,0,canvas.width,canvas.height);-->

            <!--ctx.drawImage(img1,nowMouseX-25,nowMouseY-25,50,50,nowMouseX-50,nowMouseY-50,100,100)-->

        <!--}-->



        <canvas id="canvas" width="1000" height="500"></canvas>
        <script type="text/javascript">
        var canvas = document.querySelector("canvas");
        var ctx = canvas.getContext("2d");
        var img = new Image();

        img.src = "img/833829.jpg";
        img.onload = function(){
            ctx.drawImage(this,0,0,1000,500);
            canvas.onmousemove = function(e){
//          	ctx.clearRect(0,0,1000,500);
            	ctx.drawImage(this,0,0,1000,500);
                var e = e || window.event;
                var x = e.clientX;
                var y = e.clientY;
                ctx.clearRect(0,0,1000,500);
                ctx.drawImage(img,0,0,1000,500);
                
                //x/1000=?/1920.....y/500=?/1080
                ctx.drawImage(img,1.92*x-50,2.16*y-50,100,100,x-50,y-50,100,100);
                
                //绘制圆形
//              ctx.globalCompositeOperation = "xor";
//              ctx.beginPath();
//              ctx.fillStyle = "rgba(0,0,0,0)";
//			    ctx.arc(x,y,50,0,Math.PI*2,false);
//			    ctx.fill();
            }
        }
    </script>
</body>
</html>