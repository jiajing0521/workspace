<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>16_贪吃蛇</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        canvas{
            border: 1px solid blue;
        }
    </style>
</head>
<body>
<canvas id="canvas" width="500" height="500">
    低版本浏览器不支持

</canvas>
<script type="text/javascript">
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");


    var snake = {
        x:0,
        y:0,
        w:20,
        h:20,
        color: "red",
        left: false,
        right: true,
        top: false,
        bottom: false
    };

    snake.move = function () {
        if (this.left){
            this.x -= this.w;
        }else if (this.right){
            this.x += this.w;
        }else if (this.top){
            this.y -=this.h;
        }else if (this.bottom){
            this.y +=this.h;
        }
    };
    snake.draw = function () {
        ctx.beginPath();
        ctx.fillStyle = this.color;
        ctx.rect(this.x,this.y,this.w,this.h);
        ctx.fill();
    };


    //    var arr = ["left", "top", "right", "bottom"];
    //    for(var i = 0; i < arr.length; i++){
    //        snake[arr[i]] = false;
    //    }
    //    snake[arr[e.keyCode-37]]= true;

    document.onkeydown=function(e) {
        var e = e || window.event;
        //39,40,37,38
        switch(e.keyCode){
                //左
            case 37:
                console.log(1);
                snake.left = true;
                snake.right = false;
                snake.top = false;
                snake.bottom = false;
                break;
                //上
            case 38:
                snake.left = false;
                snake.right = false;
                snake.top = true;
                snake.bottom = false;
                break;
                //右
            case 39:
                snake.left = false;
                snake.right = true;
                snake.top = false;
                snake.bottom = false;
                break;
                //下
            case 40:
                snake.left = false;
                snake.right = false;
                snake.top = false;
                snake.bottom = true;
                break;
            default:
                break;
        }
    }

    function run() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        snake.draw();
        snake.move();
        window.setTimeout(run,500);
    }
    run();


</script>
</body>
</html>