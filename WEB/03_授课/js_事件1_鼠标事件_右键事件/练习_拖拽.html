<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>拖拽</title>
		<style type="text/css">
			#boll{
				width: 100px;
				height: 100px;
				background-color: red;
				border-radius: 50px;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<div id="boll"></div>
		<script type="text/javascript">
			var boll = document.getElementById("boll");
			boll.onmousedown = function(ev){
				//获取鼠标按下时，当前boll的top，left
				var bollLeft = boll.offsetLeft;
				var bollTop = boll.offsetTop;
				//获取鼠标按下时，当前鼠标的坐标X，Y
				var e = ev || window.event;
				var mouseDownX = e.clientX;
				var mouseDownY = e.clientY;
				document.onmousemove = function(ev1){
					//鼠标拖拽时，实时获取当前鼠标的坐标X，Y
					var e = ev1 || window.event;
					var mouseMoveX = e.clientX;
					var mouseMoveY = e.clientY;
					//实时获取鼠标拖拽时与按下时的偏移量
					var pianX = mouseMoveX - mouseDownX;
					var pianY = mouseMoveY - mouseDownY;
					//boll的top和left，等于按下时的Left，top加上拖拽时的偏移量
					boll.style.left = bollLeft + pianX + "px";
					boll.style.top = bollTop + pianY + "px";
				}
			}
			//鼠标抬起时，清除鼠标移动的函数，return false
			boll.onmouseup = function(){
				document.onmousemove = function(){
					return false;
					//以下同上，阻止默认事件
					//event.preventDefault();
				}
			}
		</script>
	</body>
</html>
