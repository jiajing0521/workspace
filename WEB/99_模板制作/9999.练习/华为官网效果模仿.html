<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>华为图片效果模仿</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html,body{
				width: 100%;
				height: 99999px;
			}
			.imgAll,.nav{
				width: 98%;
				margin: 0 auto;
				overflow: hidden;
			}
			.nav{
				height: 40px;
				background-color: #cfcfcf;
			}
			.navUl{
				list-style: none;
				overflow: hidden;
			c0c0c0	font-size: 12px;
			}
			.navList{
				line-height: 40px;
				padding: 0 20px;
				transition: all 2s;
			}
			.navList:hover{
				background-color: #c0c0c0;
				transition: all 2s;
			}
			.float_left{
				float: left;
			}
			.float_right{
				float: right;
			}
			.imgList{
				width: 48%;
				height: 300px;
				margin: 1%;
				position: relative;
				overflow: hidden;

				border-radius: 10px;
			}
			.imgList img{
				width: 110%;
				height: 100%;
				position: absolute;
				left: 0;
				top: 0;
			}
			.mask{
				width: 100%;
				height: 100%;
				position: absolute;
				left: 0;
				top: 0;
				
				color: white;
				transition: all 1s;
			}
			.title{
				font-size: 20px;
				font-weight: bold;
				
				position: absolute;
				left: 0;
				top: 80%;
			}
			.title_text{
				position: absolute;
				left: 0;
				top: 90%;
				display: none;
			}
			.scrollImg{
				width: 100%;
				height: 300px;
				margin: 0 auto;
				overflow: hidden;
				
				position: relative;
			}
			.scrollImg img{
				width: 110%;
				height: 110%;
				position: absolute;
				left: 0;
				top: 0;
			}
			.scrollImgBgLink{
				width: 100px;
				height: 12%;
				color: white;
				text-align: center;
				border-radius: 2px;
				background-color: rgb(153,30,33);
				position: absolute;
				top: 70%;
				left: 10%;
			}
			.scrollImgBgLink:hover{
				background-color: rgb(208,34,38);
			}
			.imgSmall{
				width: 100%;
				text-align: center;

			}
			.imgSmall img{
				width: 20%;
				height: 100px;
				opacity: 0;
				border-radius: 5px;
			}
			.changeAll{
				width: 100%;
				height: 400px;
				overflow: hidden;
			}
			.imgChange{
				width: 48%;
				height: 400px;

				margin: 1%;

				position: relative;
			}
			.imgChange img{
				width: 100%;
				height: 400px;
				border-radius: 10px;

				position: absolute;
				left:0;
				top:0;

				transition: all 1s;
			}
			.change2{
				opacity: 0;
			}
			
		</style>
	</head>
	<body>
		<div class="nav">
			<ul class="navUl">
				<li class="navList float_left" style="margin-left: 40px">列表一</li>
				<li class="navList float_left">列表二</li>
				<li class="navList float_left">列表三</li>
				<li class="navList float_left">列表四</li>
				<li class="navList float_left">列表五</li>
				<li class="navList float_left">列表六</li>


				<li class="navList float_right" style="margin-right: 40px">列表八</li>
				<li class="navList float_right">列表七</li>
			</ul>
		</div>
		<div class="imgAll">

			<!--==================图片随滚动条滚动而滚动==============-->
			<div class="scrollImg">
				<img src="img/414529.jpg" class="scrollImgBg"/>
				<p class="scrollImgBgLink">了解更多 ></p>
			</div>
			<!--==================鼠标悬浮，图片文字移动==============-->
			<div class="imgList float_left">
				<img src="img/f75c1b381f30e924d5e425ed4c086e061c95f77b.jpg"/>
				<div class="mask">
					<p class="title">人工智能，让世界更美好</p>
					<p class="title_text">人工智能+，会成为一种常态，推动人类进入极致创新阶段</p>
				</div>
			</div>
			<div class="imgList float_left">
				<img src="img/be55fafb9ceecee8b58f315d.jpg"/>
				<div class="mask">
					<p class="title">人工智能，让世界更美好</p>
					<p class="title_text">人工智能+，会成为一种常态，推动人类进入极致创新阶段</p>
				</div>
			</div>
			<div class="imgList float_left">
				<img src="img/12095453_232130795000_2.jpg"/>
				<div class="mask">
					<p class="title">人工智能，让世界更美好</p>
					<p class="title_text">人工智能+，会成为一种常态，推动人类进入极致创新阶段</p>
				</div>
			</div>
			<div class="imgList float_left">
				<img src="img/140.jpg"/>
				<div class="mask">
					<p class="title">人工智能，让世界更美好</p>
					<p class="title_text">人工智能+，会成为一种常态，推动人类进入极致创新阶段</p>
				</div>
			</div>
			<div class="imgSmall">
				<img src="img/f75c1b381f30e924d5e425ed4c086e061c95f77b.jpg" alt="" />
				<img src="img/140.jpg" alt="" />
				<img src="img/414529.jpg" alt="" />
				<img src="img/be55fafb9ceecee8b58f315d.jpg" alt="" />
			</div>
			<!--==================图片切换==============-->
			<div class="changeAll">
				<div class="imgChange  float_left">
					<img class="change1" src="img/154.jpg" alt="">
					<img class="change2" src="img/155.jpg" alt="">
				</div>
				<div class="imgChange  float_left">
					<img class="change1" src="img/156.jpg" alt="">
					<img class="change2" src="img/157.jpg" alt="">
				</div>
			</div>
		</div>
		<script src="js/jquery-2.2.3.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function(){
				//-------------------百分比时，文字纵向居中-------------------
				$(".scrollImgBgLink").css({
					lineHeight:$(".scrollImgBgLink").height()+"px"
				})
				$(window).resize(function(){
  					$(".scrollImgBgLink").css({
						lineHeight:$(".scrollImgBgLink").height()+"px"
					})
				})
				//-------------------鼠标悬浮，图片文字移动-------------------
				$(".mask").mouseenter ( function(){
					$(this).css({
						background:"rgba(0,0,0,0.5)"
					});
					$(this).children(".title").finish();
					$(this).children(".title_text").finish();
					$(this).parent().children("img").finish();
					$(this).children(".title_text").css({
						display:"block"
					}).animate({
						top:"80%"
					});
					$(this).children(".title").animate({
						top:"70%"
					});
					$(this).parent().children("img").animate({
						left:"-5%"
					});
				});
				
				$(".mask").mouseleave ( function(){
					$(this).css({
						background:""
					});
					$(this).children(".title").finish();
					$(this).children(".title_text").finish();
					$(this).parent().children("img").finish();
					$(this).children(".title_text").css({
						display:"none"
					}).animate({
						top:"90%"
					});
					$(this).children(".title").animate({
						top:"80%"
					});
					$(this).parent().children("img").animate({
						left:0
					});
				});
				//-------------------图片随滚动条滚动而滚动-------------------
//				http://www.haorooms.com/post/jquery_scroll_upanddown
				function scroll( fn ) {
				    var beforeScrollTop = document.body.scrollTop,
				        fn = fn || function() {};
				    window.addEventListener("scroll", function() {
				        var afterScrollTop = document.body.scrollTop,
				            delta = afterScrollTop - beforeScrollTop;
				        if( delta === 0 ) return false;
				        fn( delta > 0 ? "down" : "up" );
				        beforeScrollTop = afterScrollTop;
				    }, false);
				}
				var upBool = false;
				var downBool = false;
				scroll(function(direction) {
					if(direction == "down"){
						downBool = true;
						if(downBool == true && upBool == false){
							$(".scrollImgBg").animate({
								top:"-10%"
							},function(){
								downBool = false;
							})
						}
					}
					if(direction == "up"){
						upBool = true;
						if(upBool==true && downBool == false){
							$(".scrollImgBg").animate({
								top:0
							},function(){
								upBool = false;
							})
						}
					}
				});
				//-------------------图片依次显示-------------------
				var maxScrollTop = 500;
				var timerIndex;
				var timerShow;
				$(window).scroll( maxScrollTop, function(event){
				    var $all = $("body");
				    console.log($all.scrollTop());
				    if( $all.scrollTop() >= 450 && $all.scrollTop() <= 900 ){
				    			clearInterval(timerShow);
				    			timerShow = setInterval(function(){
				    				timerIndex++;
				    				if($(".imgSmall img").eq(0).css("opacity") == 1 && $(".imgSmall img").eq(1).css("opacity") == 1 && $(".imgSmall img").eq(2).css("opacity") == 1 && $(".imgSmall img").eq(3).css("opacity") == 1){
				    					clearInterval(timerShow);
				    				}else{
					    				if (timerIndex%100 == 0) {
					    					$(".imgSmall img").eq(0).css({opacity:1})
					    				}if(timerIndex%200 == 0){
					    					$(".imgSmall img").eq(1).css({opacity:1})
					    				} if(timerIndex%300 == 0){
					    					$(".imgSmall img").eq(2).css({opacity:1})
					    				} if(timerIndex%400 == 0){
					    					$(".imgSmall img").eq(3).css({opacity:1})
					    				}
				    				}
				    			},1)
				    			
				    }else{
				    		$(".imgSmall img").each(function(){
				    			$(this).css({opacity:0})
				    		})
				    		timerIndex=0;
				    }
				} );
				//-------------------图片切换-------------------
				$(".imgChange").mouseover(function () {
					$(this).children(".change2").css({opacity : 1});
					$(this).children(".change1").css({opacity : 0})
				});
				$(".imgChange").mouseout(function () {
					$(this).children(".change2").css({opacity : 0});
					$(this).children(".change1").css({opacity : 1})
				})
				
				
				
			})
		</script>
	</body>
</html>
