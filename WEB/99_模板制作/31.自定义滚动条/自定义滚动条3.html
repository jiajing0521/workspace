<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>自定义滚动条3</title>
		
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			#all {
				width: 30px;
				height: 300px;
				background-color: #ccc;
				position: relative;
				margin: 0 auto;
			}
			
			#scroll {
				width: 20px;
				height: 20px;
				background-color: red;
				position: absolute;
			}
			
		</style>
	</head>
	<body>
		<div id="all">
			<div id="scroll"></div>
		</div>
		<script type="text/javascript">
			var all = document.getElementById("all");
			var scroll = document.getElementById("scroll");
			scroll.onmousedown = function(ev){
				var e = ev || window.event;
				var mouseY = e.clientY;
				var scrollTop = scroll.offsetTop;
				document.onmousemove = function(ev){
					var e1 = ev || window.event;
					var mouseMY = e1.clientY;
					var endPos = mouseMY - mouseY;
					if(endPos < 0){
						endPos = 0;
					}else if(endPos > all.clientHeight - scroll.offsetHeight){
						endPos = all.clientHeight - scroll.offsetHeight;
					}
					scroll.style.top = endPos + "px"; 
				}
				document.onmouseup = function(){
					document.onmousemove = function(){
						return false;
					}
				}
			}
		</script>
	</body>
</html>
