<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#wrap {
				width: 600px;
				height: 600px;
				border: 1px solid black;
			}
			
			.block {
				width: 100px;
				height: 100px;
				font-size: 60px;
				background-color: gray;
				color: white;
				float: left;
				margin: 10px;
				text-align: center;
				line-height: 100px;
			}
		</style>
	</head>

	<body>
		<div id="wrap">
			<div id="add" class="block">+</div>
		</div>
		<script>
			var oWrap = document.getElementById("wrap");
			var oAdd = document.getElementById("add");
			var maxnum = 24;
			var index = 0;
			function rand(min,max){
				return Math.floor(Math.random()*(max+1-min)+min);
			}
			oAdd.onclick = function() {
				if(index < maxnum) {
					index++;
					var newBlock = document.createElement("div");
					newBlock.setAttribute("class", "block");
					newBlock.style.backgroundColor = "rgb("+rand(1,255)+","+rand(1,255)+","+rand(1,255)+")";
					oWrap.insertBefore(newBlock, this);


					newBlock.onclick = function() {
						oWrap.removeChild(this);
						index--;
					}
					
				}
			}
			
		</script>
	</body>

</html>